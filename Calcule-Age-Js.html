<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              clifford: '#da373d',
            },
          },
        },
      };
    </script>
    <title>Calcule Your Age</title>

    <style>
      /* Apply the background to the whole body */
      body {
        margin: 0;
        padding: 0;
        height: 100vh; /* Full viewport height */
        background-image: url('https://www.digitalcook.ma/wp-content/uploads/2024/04/Developpeur-Angular.webp'); /* Replace with your image URL */
        background-size: cover; /* Ensures the image covers the entire element */
        background-position: center; /* Centers the image */
        background-repeat: no-repeat; /* Prevents the image from repeating */
        background-attachment: fixed; /* Makes the background fixed when scrolling */
      }

    </style>
  </head>
  <body>
    <div class="">
      <div class="mt-36 grid grid-cols-3 mb-6 gap-3 text-center">
        <div class="col-start-2">
          <h1 class="text-bold text-4xl text-white mb-6">
            My Application to Calcul Age
          </h1>
          <label for="date" class="text-bold text-3xl text-white mb-16"
            >Your Birth Day</label
          >
        </div>
        <div class="col-start-2">
          <div class="mt-6 text-bold text-white text-center text-4xl">
            <div class="flex">
              <input
                id="date"
                name="date"
                type="date"
                autocomplete="date"
                required
                class="w-96 justify-center text-xl text-center rounded-md border-0 py-2.5 text-gray-900 shadow-lg ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 lg:text-lg lg:leading-6"
              />

              <button
                class="w-36 ml-8 rounded-md bg-teal-600 px-3 py-2.5 text-lg font-semibold leading-6 text-white shadow-lg hover:bg-teal-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                onclick="calculateAge()"
              >
                Calculate Age
              </button>
            </div>
          </div>
        </div>
        <div class="col-start-2">
          <div
            id="age"
            class="mt-6 text bold text-xl flex flex-col bg-white border border-gray-200 shadow-lg rounded-xl p-4 md:p-5"
          >
            Your Age is :
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      function calculateAge() {
        const birthdate = document.getElementById('date').value;

        // Check if a date has been selected
        if (!birthdate) {
          document.getElementById('age').textContent =
            'Please select a birthdate.';
          return;
        }

        let birthDateObject = new Date(birthdate);

        let today = new Date();

        // Calculate age
        let age = today.getFullYear() - birthDateObject.getFullYear();

        // Calculate the months and adjust if the birthday hasn't occurred this year
        let months = today.getMonth() - birthDateObject.getMonth();
        if (months < 0) {
          years--;
          months += 12;
        }

        // Calculate the days difference and adjust if the birthday hasn't occurred this month
        let days = today.getDate() - birthDateObject.getDate();
        if (days < 0) {
          months--;
          const lastMonth = new Date(today.getFullYear(), today.getMonth(), 0);
          days += lastMonth.getDate();
          if (months < 0) {
            months = 11;
            years--;
          }
        }
        // Display the result
        document.getElementById(
          'age'
        ).textContent = `You are now :   ${age} y ${months} m ${days} d `;

        ageValeur.textContent = age;

        console.log(age);
      }
    </script>
  </body>
</html>
